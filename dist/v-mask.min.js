!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.VueMask=t()}(this,function(){"use strict";function e(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.value,i=void 0,c=void 0;i=e.getAttribute("data-previous-value")||"",c=e.getAttribute("data-mask"),console.log(r,i),(t||r&&r!==i&&r.length>i.length)&&(e.value=a(r,c),n(e,"input")),e.setAttribute("data-previous-value",r)}function t(e,t){e.setAttribute("data-mask",t)}var a=function(e,t){if(!t)return e;var a=/^([^#ANX]+)/;1==e.length&&a.test(t)&&(e=a.exec(t)[0]+e);for(var n="",r=0,i=0;i<t.length;i++){var c=t.charAt(i);switch(c){case"#":case"A":case"?":case"N":case"X":break;default:e=e.replace(c,"")}}for(var u=0,o=1;o&&u<t.length;++u){var s=e.charAt(u-r),d=t.charAt(u);switch(d){case"#":/\d/.test(s)?n+=s:o=0;break;case"A":/[a-z]/i.test(s)?n+=s:o=0;break;case"N":/[a-z0-9]/i.test(s)?n+=s:o=0;break;case"?":r++;break;case"X":n+=s;break;default:n+=d,s&&s!==d&&(e=" "+e)}}return n},n=function(e,t){var a=document.createEvent("HTMLEvents");a.initEvent(t,!0,!0),e.dispatchEvent(a)};return function(a){a.directive("mask",{bind:function(a,n){t(a,n.value),e(a)},componentUpdated:function(a,n){var r=n.value,i=r!==n.oldValue;i&&t(a,r),e(a,i)}})}});
